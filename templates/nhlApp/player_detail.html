{% extends "base.html" %}
{% block content %}
<h1>{{ player.full_name }}</h1>
<p style="font-size: 18px; margin-bottom: 20px;">
    <strong>Позиция:</strong> {{ player.position }}
</p>

<h2>Статистика по сезонам</h2>
<div class="table-responsive">
    <table>
        <thead>
            <tr>
                <th>Сезон</th>
                <th>Команда(ы)</th>
                <th>Игр</th>
                <th>Голы</th>
                <th>Передачи</th>
                <th>Очки</th>
            </tr>
        </thead>
        <tbody>
            {% for stat in stats %}
            <tr>
                <td>{{ stat.season_id }}</td>
                <td style="font-size: 14px;">
                    {% for pst in stat.teams.all|slice:":3" %}
                        {{ pst.team.full_name }}{% if not forloop.last %}, {% endif %}
                    {% empty %}
                        —
                    {% endfor %}
                </td>
                <td>{{ stat.games_played|default:0 }}</td>
                <td>{{ stat.goals|default:0 }}</td>
                <td>{{ stat.assists|default:0 }}</td>
                <td class="stats-highlight">{{ stat.points|default:0 }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" style="padding: 40px; text-align: center; color: #999;">
                    Статистика отсутствует
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<p style="margin-top: 30px;">
    <a href="{% url 'nhlapp:player_list' %}" class="btn btn-primary" style="padding: 12px 24px;">
        ← Назад к списку
    </a>
</p>
{% endblock %}
